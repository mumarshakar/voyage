{%- liquid
  if section.id
    assign footer_settings = section.settings
  else
    if sections['footer'].id
      assign footer_settings = sections['footer'].settings
    elsif sections.footer.id
      assign footer_settings = sections.footer.settings
    endif
  endif

  comment
    Set default values if footer_settings is not available
  endcomment
  if footer_settings == blank
    assign footer_text = 'Follow us on instagram!'
    assign instagram_url = 'https://instagram.com'
    assign footer_bg_color = '#EAE7E0'
    assign footer_text_color = '#6B5B4F'
    assign footer_font_family = 'serif'
    assign footer_font_size = 18
    assign show_underline = true
    assign footer_vertical_padding = 80
  else
    assign footer_text = footer_settings.footer_text | default: 'Follow us on instagram!'
    assign instagram_url = footer_settings.instagram_url | default: 'https://instagram.com'
    assign footer_bg_color = footer_settings.footer_bg_color | default: '#EAE7E0'
    assign footer_text_color = footer_settings.footer_text_color | default: '#6B5B4F'
    assign footer_font_family = footer_settings.footer_font_family | default: 'serif'
    assign footer_font_size = footer_settings.footer_font_size | default: 18
    assign show_underline = footer_settings.show_underline | default: true
    assign footer_vertical_padding = footer_settings.footer_vertical_padding | default: 80
  endif
  
  if footer_font_family == 'serif'
    assign footer_font_family_value = "'Playfair Display', 'Times New Roman', serif"
  else
    assign footer_font_family_value = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"
  endif
-%}

<footer style="background-color: {{ footer_bg_color }};
              color: {{ footer_text_color }};
              padding: {{ footer_vertical_padding }}px 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              min-height: 100px;">
  <div style="text-align: center;">
    {% if instagram_url != blank %}
      <a href="{{ instagram_url }}" 
         style="color: {{ footer_text_color }};
                font-family: {{ footer_font_family_value }};
                font-size: {{ footer_font_size }}px;
                text-decoration: {% if show_underline %}underline{% else %}none{% endif %};
                text-underline-offset: 4px;
                text-decoration-thickness: 1px;
                transition: opacity 0.3s ease;
                display: inline-block;">
        {{ footer_text }}
      </a>
    {% else %}
      <span style="color: {{ footer_text_color }};
                    font-family: {{ footer_font_family_value }};
                    font-size: {{ footer_font_size }}px;
                    text-decoration: {% if show_underline %}underline{% else %}none{% endif %};
                    text-underline-offset: 4px;
                    text-decoration-thickness: 1px;
                    display: inline-block;">
        {{ footer_text }}
      </span>
    {% endif %}
  </div>
</footer>

<style>
  footer a:hover {
    opacity: 0.8;
  }
</style>
