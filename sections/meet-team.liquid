<style>
#shopify-section-{{ section.id }} .flip-card {
    background: transparent;
    width: 100%;
    height: 340px;
    perspective: 1000px;
}

#shopify-section-{{ section.id }} .flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

#shopify-section-{{ section.id }} .flip-card:hover .flip-card-inner {
    transform: rotateY(180deg);
}

#shopify-section-{{ section.id }} .flip-card-front, 
#shopify-section-{{ section.id }} .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: {{ section.settings.card_border_radius }}px;
    background: #ffffff;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

#shopify-section-{{ section.id }} .flip-card-front img {
    height: {{ section.settings.image_height }}px;
    object-fit: cover;
    width: 100%;
    border-radius: {{ section.settings.image_border_radius }}px {{ section.settings.image_border_radius }}px 0 0;
}

#shopify-section-{{ section.id }} .flip-card-front h5 {
    font-size: {{ section.settings.name_font_size }}px !important;
    font-weight: {{ section.settings.name_font_weight }} !important;
    text-transform: {{ section.settings.name_text_transform }} !important;
    letter-spacing: {{ section.settings.name_letter_spacing }}px !important;
    margin-top: 1rem;
    margin-bottom: 0;
}

#shopify-section-{{ section.id }} .flip-card-front p {
    font-size: {{ section.settings.role_font_size }}px !important;
    font-weight: {{ section.settings.role_font_weight }} !important;
    text-transform: {{ section.settings.role_text_transform }} !important;
    letter-spacing: {{ section.settings.role_letter_spacing }}px !important;
    color: #6c757d;
}

#shopify-section-{{ section.id }} .flip-card-back {
    transform: rotateY(180deg);
    background: #f8f9fa;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#shopify-section-{{ section.id }} .flip-card-back p {
    font-size: {{ section.settings.description_font_size }}px !important;
    font-weight: {{ section.settings.description_font_weight }} !important;
    line-height: {{ section.settings.description_line_height }} !important;
    letter-spacing: {{ section.settings.description_letter_spacing }}px !important;
    margin: 0;
}

/* Desktop Columns */
#shopify-section-{{ section.id }} .team-cards-row {
    display: grid;
    grid-template-columns: repeat({{ section.settings.desktop_columns }}, 1fr);
    gap: {{ section.settings.row_gap }}px {{ section.settings.column_gap }}px;
    padding: 0;
    margin: 0;
}

/* Mobile Columns */
@media screen and (max-width: 749px) {
    #shopify-section-{{ section.id }} .team-cards-row {
        grid-template-columns: repeat({{ section.settings.mobile_columns }}, 1fr);
    }
}

#shopify-section-{{ section.id }} .team-card-wrapper {
    width: 100%;
}

#shopify-section-{{ section.id }} .section-heading {
    text-align: center;
    margin-bottom: 3rem;
}
</style>

<div class="page-width" style="padding: 3rem 3rem;">
    <h2 class="section-heading">{{ section.settings.heading }}</h2>

    <div class="team-cards-row">
        {% for block in section.blocks %}
        <div class="team-card-wrapper" {{ block.shopify_attributes }}>
            <div class="flip-card">
                <div class="flip-card-inner">

                    <!-- Front -->
                    <div class="flip-card-front" style="text-align: center;">
                        {% if block.settings.image != blank %}
                            <img src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.name }}">
                        {% else %}
                            <div style="height: {{ section.settings.image_height }}px; background: #e9ecef; display: flex; align-items: center; justify-content: center; border-radius: {{ section.settings.image_border_radius }}px {{ section.settings.image_border_radius }}px 0 0;">
                                <span style="color: #6c757d;">No image</span>
                            </div>
                        {% endif %}

                        <h5>{{ block.settings.name }}</h5>
                        <p>{{ block.settings.role }}</p>
                    </div>

                    <!-- Back -->
                    <div class="flip-card-back">
                        <p>{{ block.settings.description }}</p>
                    </div>

                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% schema %}
{
  "name": "Team Flip Cards",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Meet Our Team"
    },

    {
      "type": "header",
      "content": "Column Controls"
    },
    {
      "type": "range",
      "id": "desktop_columns",
      "min": 1,
      "max": 6,
      "step": 1,
      "label": "Columns on Desktop",
      "default": 4
    },
    {
      "type": "range",
      "id": "mobile_columns",
      "min": 1,
      "max": 3,
      "step": 1,
      "label": "Columns on Mobile",
      "default": 1
    },

    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "range",
      "id": "column_gap",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Column Gap",
      "default": 20
    },
    {
      "type": "range",
      "id": "row_gap",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Row Gap",
      "default": 20
    },

    {
      "type": "header",
      "content": "Card Settings"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Card Border Radius",
      "default": 2
    },

    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 100,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Image Height",
      "default": 180
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Image Border Radius (Top)",
      "default": 10
    },

    {
      "type": "header",
      "content": "Team Member Name"
    },
    {
      "type": "range",
      "id": "name_font_size",
      "min": 12,
      "max": 48,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 20
    },
    {
      "type": "select",
      "id": "name_font_weight",
      "label": "Font Weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" },
        { "value": "800", "label": "Extra Bold" }
      ],
      "default": "600"
    },
    {
      "type": "select",
      "id": "name_text_transform",
      "label": "Text Transform",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "uppercase", "label": "Uppercase" },
        { "value": "lowercase", "label": "Lowercase" },
        { "value": "capitalize", "label": "Capitalize" }
      ],
      "default": "none"
    },
    {
      "type": "range",
      "id": "name_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "unit": "px",
      "label": "Letter Spacing",
      "default": 0
    },

    {
      "type": "header",
      "content": "Member Designation/Role"
    },
    {
      "type": "range",
      "id": "role_font_size",
      "min": 10,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 14
    },
    {
      "type": "select",
      "id": "role_font_weight",
      "label": "Font Weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "400"
    },
    {
      "type": "select",
      "id": "role_text_transform",
      "label": "Text Transform",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "uppercase", "label": "Uppercase" },
        { "value": "lowercase", "label": "Lowercase" },
        { "value": "capitalize", "label": "Capitalize" }
      ],
      "default": "none"
    },
    {
      "type": "range",
      "id": "role_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "unit": "px",
      "label": "Letter Spacing",
      "default": 0
    },

    {
      "type": "header",
      "content": "Team Member Description (Back)"
    },
    {
      "type": "range",
      "id": "description_font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 14
    },
    {
      "type": "select",
      "id": "description_font_weight",
      "label": "Font Weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "description_line_height",
      "min": 1,
      "max": 3,
      "step": 0.1,
      "label": "Line Height",
      "default": 1.6
    },
    {
      "type": "range",
      "id": "description_letter_spacing",
      "min": -2,
      "max": 5,
      "step": 0.5,
      "unit": "px",
      "label": "Letter Spacing",
      "default": 0
    }
  ],

  "blocks": [
    {
      "type": "team_member",
      "name": "Team Member",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Photo" },
        { "type": "text", "id": "name", "label": "Name", "default": "John Doe" },
        { "type": "text", "id": "role", "label": "Role", "default": "Senior Developer" },
        { "type": "textarea", "id": "description", "label": "Description", "default": "Team member bio goes here." }
      ]
    }
  ],

  "max_blocks": 12,

  "presets": [
    {
      "name": "Team Flip Cards",
      "category": "Team"
    }
  ]
}
{% endschema %}
